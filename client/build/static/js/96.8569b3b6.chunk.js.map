{"version":3,"file":"static/js/96.8569b3b6.chunk.js","mappings":"yQASMA,EAAe,CACnB,CACEC,MAAO,OACPC,KAAM,OACNC,aAAc,2BACdC,KAAM,QAER,CACEH,MAAO,UACPC,KAAM,UACNC,aAAc,8BACdC,KAAM,QAER,CACEH,MAAO,6BACPC,KAAM,6BACNC,aAAc,iDACdC,KAAM,QAER,CACEH,MAAO,yBACPC,KAAM,yBACNC,aAAc,6CACdC,KAAM,SA6FV,UA7EqB,WACnB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KA0BtB,OACE,+BACE,SAAC,KAAI,CACHD,MAAOA,EACPC,SAAUA,EACVC,KAAM,CACJ,CACEC,MAAO,kBACPC,SACE,UAAC,IAAI,CACHV,KAAK,QACLW,cAAe,CAACC,UAAU,GAC1BC,SApCO,SAACC,GACpB,IAAMC,EAAO,CAAC,EACdC,OAAOC,KAAKH,GAAQI,SAAQ,SAAAC,GACtBL,EAAOK,aAAgBC,IACzBL,EAAKI,GAAOL,EAAOK,GAAKE,OAAO,cAE/BN,EAAKI,GAAOL,EAAOK,EAEvB,IACAJ,EAAKO,iBAAmBF,IAAOG,KAAKC,OAAOH,OAAO,oBAElDI,EAAAA,EAAAA,KAAW,GAAD,OAAIC,EAAAA,EAAO,WAAWX,GAC7BY,MAAK,WACJC,EAAAA,GAAAA,QAAc,6BACdzB,EAAS,UACX,IAAG0B,OAAM,WACTD,EAAAA,GAAAA,MAAY,QACd,GACF,EAmBcE,eAjBO,SAACC,GACpBC,QAAQC,IAAI,UAAWF,EACzB,EAgBcG,aAAa,MACbC,OAAO,WACPC,WAAY,CAACC,KAAM,IAAI,UAGrBvC,EAAawC,KAAI,SAACC,EAAKjC,GAAK,OAC1B,SAAC,SAAS,CACRP,MAAOwC,EAAIxC,MACXC,KAAMuC,EAAIvC,KACVwC,MAAO,CAAC,CAACC,UAAU,EAAMC,QAASH,EAAItC,eAAe,SAItC,SAAbsC,EAAIrC,MACA,SAAC,IAAK,KACN,SAAC,IAAU,CAACmB,OAAO,aAAasB,YAAa,gBAL9CrC,EAOK,KAIhB,SAAC,SAAS,WACR,SAAC,IAAM,CAACJ,KAAK,UAAU0C,SAAS,SAAQ,8BAW1D,C","sources":["PAGES/Create-object.js"],"sourcesContent":["import {Button, Col, DatePicker, Form, Input, Row} from 'antd';\r\nimport {Tabs} from \"src/components\";\r\nimport React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {toast} from \"react-toastify\";\r\nimport {MainApi} from \"src/api\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\nconst ObjectFields = [\r\n  {\r\n    label: \"Nomi\",\r\n    name: \"Nomi\",\r\n    requiredText: \"Iltimos nomini kiriting!\",\r\n    type: \"text\"\r\n  },\r\n  {\r\n    label: \"manzili\",\r\n    name: \"manzili\",\r\n    requiredText: \"Iltimos manzilini kiriting!\",\r\n    type: \"text\"\r\n  },\r\n  {\r\n    label: \"QurilishniBoshlanishSanasi\",\r\n    name: \"QurilishniBoshlanishSanasi\",\r\n    requiredText: \"Iltimos qurilish boshlanish sanasini kiriting!\",\r\n    type: \"date\"\r\n  },\r\n  {\r\n    label: \"QurilishniBitishSanasi\",\r\n    name: \"QurilishniBitishSanasi\",\r\n    requiredText: \"Iltimos qurilish bitish sanasini kiriting!\",\r\n    type: \"date\"\r\n  },\r\n  // {\r\n  //   label: \"yaratilgan_vaqti\",\r\n  //   name: \"yaratilgan_vaqti\",\r\n  //   requiredText: \"Iltimos yaratilgan vaqtini kiriting!\",\r\n  //   type: \"date\"\r\n  // },\r\n]\r\n\r\nfunction getCurrentHHMM () {\r\n  const N = new Date();\r\n  const hhdd = (N.getHours() < 10 ? \"0\"+N.getHours() : N.getHours()) + \":\" + (N.getMinutes() < 10 ? \"0\"+N.getMinutes() : N.getMinutes());\r\n  return hhdd;\r\n}\r\n\r\nconst CreateObject = () => {\r\n  const navigate = useNavigate();\r\n  const [index, setIndex] = useState(0);\r\n\r\n  const onSubmitForm = (values) => {\r\n    const body = {};\r\n    Object.keys(values).forEach(key => {\r\n      if (values[key] instanceof moment) {\r\n        body[key] = values[key].format(\"DD.MM.YYYY\");\r\n      } else {\r\n        body[key] = values[key];\r\n      }\r\n    })\r\n    body.yaratilgan_vaqti = moment(Date.now()).format(\"DD.MM.YYYY HH:mm\");\r\n\r\n    axios.post(`${MainApi}/object`, body)\r\n      .then(() => {\r\n        toast.success(\"successfully saved object\");\r\n        navigate('/object');\r\n      }).catch(() => {\r\n      toast.error(\"error\");\r\n    })\r\n  };\r\n\r\n  const onFailedForm = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tabs\r\n        index={index}\r\n        setIndex={setIndex}\r\n        tabs={[\r\n          {\r\n            title: \"Obyekt qo'shish\",\r\n            content: (\r\n              <Form\r\n                name=\"basic\"\r\n                initialValues={{remember: true}}\r\n                onFinish={onSubmitForm}\r\n                onFinishFailed={onFailedForm}\r\n                autoComplete=\"off\"\r\n                layout=\"vertical\"\r\n                wrapperCol={{span: 16}}\r\n              >\r\n                {\r\n                  ObjectFields.map((obj, index) => (\r\n                    <Form.Item\r\n                      label={obj.label}\r\n                      name={obj.name}\r\n                      rules={[{required: true, message: obj.requiredText}]}\r\n                      key={index}\r\n                    >\r\n                      {\r\n                        obj.type === \"text\"\r\n                          ? <Input/>\r\n                          : <DatePicker format=\"DD.MM.YYYY\" placeholder={\"DD.MM.YYYY\"}/>\r\n                      }\r\n                    </Form.Item>\r\n                  ))\r\n                }\r\n\r\n                <Form.Item>\r\n                  <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n            ),\r\n          },\r\n        ]}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateObject;\r\n"],"names":["ObjectFields","label","name","requiredText","type","navigate","useNavigate","useState","index","setIndex","tabs","title","content","initialValues","remember","onFinish","values","body","Object","keys","forEach","key","moment","format","yaratilgan_vaqti","Date","now","axios","MainApi","then","toast","catch","onFinishFailed","errorInfo","console","log","autoComplete","layout","wrapperCol","span","map","obj","rules","required","message","placeholder","htmlType"],"sourceRoot":""}